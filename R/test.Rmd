---
title: "9/11/2017 testing prcr and tidymixmod"
author: "Joshua Rosenberg"
date: "10/11/2017"
output: html_document
---

# Loading, setting up 

First, run these three lines of code in order to install `prcr` (for cluster analysis-based profile analysis) and `tidymixmod` (for model-based profile analysis, or Latent Profile Analysis):

```{r setup, eval = F}
install.packages("prcr")
install.packages("devtools")
devtools::install_github("jrosen48/tidymixmod)
```

Next, load the packages:

```{r}
library(tidymixmod)
library(mclust)
```

# Getting started with prcr

Now, we'll start with `prcr`. Run this line of code:

```{r}
?create_profiles
```

This should give us an idea of how to use the function `create_profiles()`. Here's an example:

```{r}
m2 <- create_profiles(mtcars, disp, hp, wt, n_profiles = 2, to_scale = TRUE)
summary(m2)
plot(m2)
m2$.data
```

# Getting started with tidymixmod

We'll do the same thing with `tidymixmod` that we did with `prcr`, starting with the help file:

```{r}
?create_profiles_mclust
```

Here's some example code:

```{r}
m3 <- create_profiles_mclust(iris, Sepal.Length, Sepal.Width, n_profiles = 3, model = 1, to_return="mclust")
calculate_centroids_mclust(m3)
plot_mclust(m3)
```

# Determining the number of clusters (for prcr) or mixture components (for tidymixmod)

In `prcr`, we can use the `plot_r_squared()` function

```{r}
?plot_r_squared
```

Here's an example:

```{r}
prcr::plot_r_squared(mtcars, 
                     disp, hp, wt,
                     to_scale = T,
                     lower_bound = 2, upper_bound = 4)
```

There is also a very powerful function for performing cross-validation, `cross_validate()`.

In `tidymixmod`, we can use the `explore_models_mclust()` function:

```{r}
df <- dplyr::select(iris, -Species)
explore_models_mclust(df)
```

# Future directions

We are actively working to combine `prcr` and `tidymixmod` and to improve the user interface for the combined package. We are also working to add additional functionality, 
