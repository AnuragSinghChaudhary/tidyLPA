---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

# tidymixmod

The goal of tidymixmod is to provide tools to make it easier to use the `R` package `MCLUST` for Latent Profile Analysis analyses.

This is a sister-project to [prcr](https://github.com/jrosen48/prcr), for two-step cluster analysis, and may be merged with it in the future. 

A candidate feature or change is to provide an interface to the general latent variable model software `OpenMx` to carry out Latent Profile Analysis (LPA) and Latent Class Analysis (LCA), as while presently `MCLUST` provides great functionality, it does not work with categorical variables, and therefore cannot be used to carry out LCA. Moreover, some more fine-grained specifications for how observed variables' residuals covary can be specified in `OpenMx` (i.e., specific correlations between specific variables' residuals).

# Example

First, we can explore the Bayesian Information Criteria (BIC) or the Integrated Complete-data Likelihood (ICL) values, using the `explore_models_clust()` function:

```{r, echo = F}
devtools::load_all(".")
```

```{r, eval = F}
library(tidymixmod)
```

Using the built-in `pisaUSA15` dataset and variables for broad interest, instrumental motivation, and self-efficacy, we can quickly explore a three profile solution:

```{r}
d <- pisaUSA15
m3 <- create_profiles_mclust(d, broad_interest, instrumental_mot, self_efficacy, n_profiles = 3, to_return = "tibble")
summary_mclust(m3)
plot_profiles_mclust(m3)
```

We can also explore a range of models:

```{r}
explore_models_mclust(d, broad_interest, instrumental_mot, self_efficacy)
```
